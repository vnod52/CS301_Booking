<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="./js/myjscripts.js"></script>
</head>

<body onload="createTable()">

    <div class="container mt-3">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <input type="search" id="searchbar" placeholder="Enter text to search" class="form-control  mt-3"
            onkeyup="mSearch()">

        <table id="studentTable" class="table table-primary mt-3">
            <thead>
                <tr>
                    <th>SID</th>
                    <th>Full Name</th>
                    <th>Phone</th>
                    <th>Edit</th>
                </tr>
                <!-- </thead>
    <tbody>
        <tr>
            <td>0</td>
            <td>Alice Brown</td>
            <td>01039474683</td>
        </tr>
        <tr>
            <td>1</td>
            <td>Jaspreet</td>
            <td>0103124683</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Manu Rewa</td>
            <td>087018348</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Vinod Blah</td>
            <td>1098436378</td>
        </tr>

     

    </tbody> -->
        </table>
    </div>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.4.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.0/firebase-firestore.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
  https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyC9jydAEYIFm9ywWhmIKqDOr4z32KNOfSY",
            authDomain: "campbell-db14e.firebaseapp.com",
            databaseURL: "https://campbell-db14e-default-rtdb.firebaseio.com",
            projectId: "campbell-db14e",
            storageBucket: "campbell-db14e.appspot.com",
            messagingSenderId: "93257278336",
            appId: "1:93257278336:web:4a26be6892d1b9f69a9765"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        var db = firebase.firestore();

        function createTable() {

            var table = document.getElementById("studentTable");

            //read data firestore
            var employees = db.collection("employees");
            employees.get().then(function (querySnapshot) {
                querySnapshot.forEach(employees => {

                    console.log("Born: " + employees.data().fullName,
                        "\nfirst: " + employees.data().phone);

                    var row = table.insertRow();
                    var cell1 = row.insertCell();
                    cell1.innerHTML = employees.data().id;
                    var cell2 = row.insertCell();
                    cell2.innerHTML = employees.data().fullName;
                    var cell3 = row.insertCell();
                    cell3.innerHTML = employees.data().phone;

                    var btn = document.createElement("input");
                    btn.type = "button";
                    btn.value = "remove";
                    btn.textContent = "Remove";
                    btn.className = "btn btn-primary";
                    btn.style = "100%";
                    btn.id = employees.data().id;
                    btn.onclick = removeTableRow;
                    var cell4 = row.insertCell();
                    cell4.append(btn);

                });
            });
        }



    </script>
</body>

</html>